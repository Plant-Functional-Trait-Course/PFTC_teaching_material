[{"path":"index.html","id":"pftc-teaching-material","chapter":"PFTC Teaching material","heading":"PFTC Teaching material","text":"book provides teaching material Plant Functional Trait Courses (PFTC).PFTC courses international course hands-training trait-based ecology.\nprovide teaching material data collection, curation, analysis, documentation, storage, reuse.\naddition, show reproducible transparent workflows make research open available.\ncover topics within fields plant functional trait ecology, ecosystem ecology, plant physiology remote sensing.","code":""},{"path":"the-study-system.html","id":"the-study-system","chapter":"1 The study system","heading":"1 The study system","text":"","code":""},{"path":"the-study-system.html","id":"alpine-ecosystems-in-western-norway","chapter":"1 The study system","heading":"1.1 Alpine ecosystems in Western Norway","text":"PFTC6 held Aurland fjords Western Norway.\nFigure 1.1: fjords Aurland Western Norway.\nTypical alpine grasslands area look like :\nFigure 1.2: typical alpine grasslands one lower elevation.\n","code":""},{"path":"the-study-system.html","id":"three-d-project---global-change-impacts-on-biodiversity-and-ecosystem-carbon-fluxes","chapter":"1 The study system","heading":"1.2 Three-D project - Global change impacts on biodiversity and ecosystem carbon fluxes","text":"complete description experiment see .","code":""},{"path":"the-study-system.html","id":"study-sites","chapter":"1 The study system","heading":"1.2.1 Study sites","text":"study conducted three semi-natural grassland sites western Norway.\nsites location calcareous soil (loamy sand).\nsites chosen fit within elevational gradient three temperature levels differ c. 400 m elevation, temperature difference approximately 3°C summer temperature.\nsites correspond boreal, sub-alpine alpine biogeographic zones.\nfactors history, bedrock, vegetation type structure, slope exposure kept constant possible among selected sites within country. sites grazed sheep goats.\nFigure 1.3: ) experiment set along elevational gradient represents productivity gradient. experimental treatments warming (brown), grdient nitrogen addition (grey green) combination. treatments crossed four grazing treatment: control (clipping), intermediate intensive clipping, natural grazing outside grazing exclosure. B) Example plot divided non destructive (inner square) destructive sampling area (outer square).\nlowest site Vikesland locate 469 m .s.l. (60.9°N, 7.2°E).\nlocated near farm, 200 goats. summer, goats moving mountains day, graze higher elevation milked farm valley.\nvegetation dominated Agrostis capillaris, Anthoxantum odoratum, Achillea millefolium, Ranunculus acris, Rumex acetosa.\nFigure 1.4: lowest site farm Vikesland.\nmiddle site Joasete summer farm located 920 m .s.l.\narea around summer farm mostly grazed sheep sometimes goats.\nvegetation Joasete well adapted grazing pressure nutrient input animals.\ndominant plant species Agrostis capillaris, Deschampsia cespitosa, Achillea millefolium, Ranunculus acris, Ranunculus repens, Rumex acetosa.\nFigure 1.5: middle site summer farm Joasete\nhighest site Liahovden located 1290 m .s.l.\ngrazing moderately sheep, deer reindeer.\nvegetation species rich grassland, typical nutrient soils Norwegian alpine vegetation Achillea millefolium, Antennaria dioica, Bistorta vivipara, Leontodon autumnalis, Silene acaulis, Thalictrum alpinum.\nFigure 1.6: higsest site Liahovden.\n","code":""},{"path":"the-study-system.html","id":"experimental-treatments","chapter":"1 The study system","heading":"1.2.2 Experimental treatments","text":"site, ten blocks, 8 plots marked corner. Six plots chosen relatively close (inside fence) two plots chosen away (outside fence).\nplot given unique originPlotID starting upper left corner block 1 highest site. numbering continued 160. transplanting, turf also received unique destinationPlotID (number 1-200; see ).\nplot received combination treatment randomly (warming, nitrogen addition grazing, see ). randomization treatments done two steps. First, 10 nitrogen levels assigned randomly per block (.e. block 1 received nitrogen level site). chose randomize nitrogen treatment block level avoid nitrogen contamination plots within blocks.\nSecond, warming grazing treatments randomized within block. six plots within block (inside fence) randomly assigned warming grazing treatment. two plots per block located outside fence, randomly assigned warming treatment.Warming treatmentThe warming treatment conducted end growing season 2019, transplanting entire plant communities lower elevation (c. +3°C).\nupslope left-hand corner turf marked toothpick turfs placed similar position relative slope block orientation destination site.\nused knife cut turfs 50 x 50 cm depth c. 10 - 25 cm, unless soil shallower, case alpine plots.\nexcavation, turfs packed cardboard box transported respective target sites within one day. control plots excavated moved.\nlocal transplants, control transplanting effect, tested previous project transplanting affect species composition Norway (Vandvik et al. 2020) China (Yang et al. 2018).\nFigure 1.7: turf transplanted.\nturfs fitted gaps created excavating turfs destination site, except low site, gaps made. block received one plot treatment.\nTurfs placed block numerical value (1 - 10) nitrogen level destination site originated origin site.\nTransplanted turfs carefully planted destination plots (destinationPlotID) ensuring turf orientation correct (using toothpick marking uphill left corner turf) soil surface plane surrounding vegetation, edges excavated plot good contact edges gap created original turf excavated plot.\nnecessary, loose soil carefully removed underside turf, local soil added gap around edges achieve .\nFigure 1.8: Turfs transplanted Liahovden lower elevation Joasete.\nNitrogen additionIn plot added slow dissolving fertilizer pellets (YaraBela OPTI-NS 27-0-0 (4S)).\nused oxidised nitrogen (N2O) formed mainly combustion processes, main sources atmospheric nitrogen deposition remote regions (.e., away intensive agriculture sources reduced nitrogen).\nfertilizer added start middle growing season 2020 - 2021 (2022).\nblock received one seven nitrogen levels: 0, 0.5, 1, 5, 10, 50, 100, 150 kg N ha−1 yr−1.\nThree blocks controls received 0 kg N ha−1 yr−1.natural nitrogen deposition Norway 1.5-3.5 kg N ha−1 yr−1.\ncritical load changing species composition alpine grasslands approximately 5-10 kg N ha−1 yr−1 Norway.\ntherefore wanted range nitrogen levels well critical load.Grazing treatmentThe warming nitrogen treatments crossed four grazing treatments.\nGrazing simulated clipping vegetation manually scissors 2-3 cm ground.\nfour grazing treatments natural grazing (N; outside fence), medium level grazing (M; 2x clipp), intensive level grazing (; 4x clipp), untreated control plots (C).\nintermediate clipping level reflects natural grazing level outside exclosure control differences grazing clipping (.e. clipping selective add faeces urine).\nmedium intensive plots clipped 2 4 times growing season.\nclipping treatment conducted 2020 - 2022.\nFigure 1.9: plot clipped biomass sorted functional groups.\n","code":""},{"path":"the-study-system.html","id":"incline-project---climate-change-and-novel-interactions","chapter":"1 The study system","heading":"1.3 INCLINE project - Climate change and novel interactions","text":"","code":""},{"path":"pftc-6-course-information.html","id":"pftc-6-course-information","chapter":"2 PFTC 6 Course information","heading":"2 PFTC 6 Course information","text":"","code":""},{"path":"pftc-6-course-information.html","id":"pre-course-activities","chapter":"2 PFTC 6 Course information","heading":"2.1 Pre-course activities","text":"","code":""},{"path":"pftc-6-course-information.html","id":"general-reading-lists","chapter":"2 PFTC 6 Course information","heading":"2.2 General reading lists","text":"papers available class folder google drive","code":""},{"path":"resources.html","id":"resources","chapter":"3 Resources","heading":"3 Resources","text":"page contains resources :consider going fielddata collectionmeasurementsdata curationdata analysisWe provide protocols, important literature, tutorials, databases, code.","code":""},{"path":"resources.html","id":"field-based-data-collection","chapter":"3 Resources","heading":"3.1 Field based data collection","text":"","code":""},{"path":"resources.html","id":"what-to-think-about-before-going-to-the-field","chapter":"3 Resources","heading":"3.1.1 What to think about before going to the field","text":"something…","code":""},{"path":"resources.html","id":"how-to-measure-plant-functional-traits","chapter":"3 Resources","heading":"3.2 How to measure plant functional traits?","text":"protocol based trait handbook Perez-Harguindeguy et al. (2013).protocol shows measure leaf functional traits adapted traits wheelTW PFTC courses.\nFigure 3.1: different stages collection, processing curating data trait wheel.\nSampling individual plants field (Intraspecific group)protocol needs checked group 1\nplants collected inside plots ? Uprooted ? many leaves etc.Follow species list group, starting highest priority species site.\ncollect plants within plots trampled zone around plots.\nFind 10 individuals species, ideally individual five leaves, three leaves minimum.\nindividual least two meters away , avoid sampling individuals genetic individual.\nChoose reproductively mature adults fully expanded leaves (.e. seedlings).\nChoose individuals healthy-looking leaves (.e. grazed, signs pathogen herbivore attack, discoloration).\nuprooting individual, measure height (see ).\nlarge individuals large uproot (e.g. ferns), collect 5 leaves individual, making sure include petiole.\nuncertain whether something leaf vs. leaflet, ask group leader.\nfind 10 individuals species, ok.\nreasonable search, move .B Sampling individual plants field (Global change group):careful time working experiment, plots everywhere want avoid stepping plots.\nGo plot, collect data minimize trampling much possible.sample common species plot provided species list plot.\nplot inner outer zone (see Figure 3.2).\ninner zone stay untouched possible leaves collected outer zone.\nFigure 3.2: Experimental design (left) organization plot (right).\nplot marked metal tubes corner label top.\nFind 3-5 individuals species per plot.\nChoose reproductively mature adults fully expanded leaves (.e. seedlings).\nChoose individuals healthy-looking leaves (.e. grazed, signs pathogen herbivore attack, discoloration).\nMeasure height individual (see ).\nCollect 5 leaves individual, making sure include petiole see Figure 3.3.\nuncertain whether something leaf vs. leaflet, ask group leader.\nfind 5 individuals species, ok.\nreasonable search, move .\nFigure 3.3: Leaf anatomy\nMeasuring height individual plants field:Record height individual plant.\nMeasure tallest point individual plant, excluding fruits flowers.\nstretch plant bends (see Figure 3.4.\nFigure 3.4: Leaf anatomy\nRecord measurement legibly (see Figure 3.5 write numbers) flagging tape.\nTie flagging tape around individual securely place individual bag wet paper towels transfer lab.\nFigure 3.5: one approved way write numbers!\nPreparing leaves measuring traits lab:Select one (global change group) five (intraspecific group) healthy, mature, undamaged, sun leaf/leaves per individual.\nanalysing chemical traits percent P, C, N isotopes, certain amount dry biomass needed.\nMake sure collecting 0.03 g (30 mg) dried leaf material.\nOtherwise select several leaves enough dry weight (bulk sample).special cases Norway???\nspecies leaves, e.g. Baccharis (wings), collect certain length stem.Please note envelope much leaf material selected (cm).collecting leaf, include petiole rachis (see Figure 3.3).\nPat leaf dry tissue visible water surface.\nAdd barcode sticker envelope.\nAttach sticker stapler.\nFill information ‘collection day’ ‘Bulk nr/length’, see Figure 3.6 .\nCheck table options information.\nPlace leaf inside envelope\nPut envelope box next step.\nMake sure envelopes kept wet times.\nFigure 3.6: Sticker barcode example\nwrite envelopeWet massMake sure envelopes still kept wet.\nWeigh leaf write weight envelope, including digits.Measure leaf area using scannerStart setupConnect Laptop Raspberry PI.\nConnect PI ethernet cable laptop.\nConnect scanner PI.\nConnect barcode scanner PI.\nConnect power cable PI.Wait one minute.Open VNC Viewer type IP address corresponding PI:Spare SD card pi !asked type username password:Username: piPassword: pftcResize screen convenience.Scan leavesMake sure envelopes still kept wet.\nCheck scanner clean free debris.\nClean needed.\nPlace wet leaf face-scanner.\nMake sure leaf folded leaflets overlap.\nleaf go way edge scanner, picture cropped.\ncan cut leaf several pieces needed, please make remark (e.g. cut 3).\ncan tape leaf scanner folds (e.g. grasses).graminoids (grasses, sedges, rushes):\nSpread graminoid blades flat tape scanner necessary hold placeExclude leaf sheath (see Figure 3.7).\nFigure 3.7: Leaf blade sheats\nScan, save check leafClick leaf icon (needs done first time).\nstart scanning program.\nscanner found, wait bit try .\nCheck settings scanner.\nset standard, please touch needed.scan :saved Desktop/leaf_scans/Type: JPEGColourFull colour range300dpiFrom , leaf:Press scan (bottom window) couple seconds wait scanning process done.\nnew window pop .\nAdjust zoom see full picture (25%).\nCheck quality scan (whole leaf scanned, leaf upside , dirt scan, etc.).\nscan ok, adjust leaf repeat scan.\nClick green save button save scan.\nMake sure cursor marks filename (default).\nScan barcode envelope leaf scanned barcode reader.\nfilename something like: AAA4667 (3 letters, 4 digits)\nscan saved, PI check LeafID scanning settings (dpi, etc.) correct.\nanything wrong, open window error message see Figure 3.8.\nPlease read !\nFigure 3.8: Error message.\nClick anywhere window disappear.\nSave scan correct name scan leaf settings wrong.\nMAKE SURE DELETE SCAN WRONG NAME SETTING.\nTick box envelope leaf scanned.\nMake sure scanned leaves kept wet move next station.time time:finished scanning click yoda icon.\ncheck leafIDs.\nanything wrong open window indicate scans wrong.\nMake sure fix wrong leafIDs duplicate scans leaving station.leaving station:Copy scans onto stick deposit PFTC6 hard drive.\nShut pi.\nWait 1 min disconnect power.Leaf thicknessMake sure envelopes still kept wet.\nThickness varies surface leaf; generally, leaf thickest midrib, primary veins, margins, leaf base.\nAvoid midrib measuring leaf thickness, unless leaf small.\nTake three thickness measurements several points lamina.\n, later calculate average thickness.\nleaf small, may possible take three unique measurements.Ferns: Make sure measure thickness spore-producing sori lower side fern frond.Data entryIdeally envelope still kept wet point case information missing.\nOpen google sheet (link) onto computer.\nConnect barcode scanner computer.\nScan barcode envelope.\nMake sure cursor right cell (ID).\nEnter data envelope (details see table ).\ninformation missing, check forgotten.\nleaf scanned, one thickness measurement missing, etc.\nanything missing bring leaf back according station trait wheel.\nfinished, check box envelope data entered.\nTake picture envelope.\nBring envelop drying station.write envelopeDry massThe leaves dried oven 72 hours.Data checkingFind folder leave scans google drive: link\nOpen scan check follwing criterias:whole leaf scan?nothing else scanned (cable, paper,…)?dirty scan?leaf cut? yes, indicated envelope?many leaves scan? > 1 remark envelope?Open RStudio project R script (…).\nDownload trait data google sheet.\nCheck leafID valid.\nCheck variables valid entries. E.g. correct day, site name, elevations, etc.\nCheck missing values can found envelope retrieved data.\nPlot data check traits unrealistic values.Data documentationDescribing method\nDescribing data","code":""},{"path":"resources.html","id":"data-handling-and-analysis","chapter":"3 Resources","heading":"3.3 Data handling and analysis","text":"Getting started R, working R …Biostats books","code":""},{"path":"resources.html","id":"bootstrapping","chapter":"3 Resources","heading":"3.4 bootstrapping","text":"vignette explains use traitstrap package (Telford et al).\ndetails methods see Maitner et al.First , relax turn music. prepared traitstrap playlist !","code":""},{"path":"resources.html","id":"the-aim-of-traitstrap","chapter":"3 Resources","heading":"3.4.1 The aim of traitstrap","text":"Trait distributions can used infer importance community assembly processes role climate drivers shaping species community responses climate change.\nCommunity ecology typically focused mean, however higher moments (variance, skewness, kurtosis) trait distributions can reveal information various processes shaping species diversity.Measuring trait distributions often difficult time-consuming requires information measuring trait values individuals present.\nSampling protocols often limit sampling non-representative subset community, rely upon species-level average traits values calculated locations across many locations.Traditionally moments trait distributions estimated using weighting approaches rely average traits species weighted measure abundance within community.\ncommunity-weighted trait moments methods assume species’ trait expression can adequately represented mean, ignoring intraspecific trait variation.accurately estimate local trait distributions, trait sampling thus occur across multiple individuals within species, across multiple locations experimental treatments across extent study order capture inter- intra-specific variability.Traitstrap R package estimate moments community trait distributions using bootstrapping approach.\n, package uses hierarchical sampling design, allows accounting incomplete trait collections, traits different spatial temporal levels (e.g. local traits vs. databases), taxonomic hierarchies (e.g., species vs genus) experimental designs (e.g., multiple sites, treated vs. control sampling units).package three main functions:trait imputation function allows account intraspecific trait variation hierarchical sampling design.resample method using bootstrapping (parametric nonparametric method) calculate community weighted mean happy moments (variance, skewness kurtosis).summary function summarizes trait moments calculates confidence intervals.Note tutorial calling mean higher moments happy moments :-)","code":""},{"path":"resources.html","id":"the-data","chapter":"3 Resources","heading":"3.4.2 The data","text":"vignette use part vascular plant dataset two sites near Longyearbyen Svalbard.\ndata collected Plant Functional Trait Course 2018 contains data plant community composition functional traits.\ndetails see GitHub repoNote species names adapted.","code":""},{"path":"resources.html","id":"organize-your-data","chapter":"3 Resources","heading":"3.4.3 Organize your data","text":"run traitstrap two datasets required:one dataset information abundance (e.g. biomass, size, cover, etc.) community, used weight species traits abundance community.one dataset traits species (many species individuals data ) community.datasets need organized tidy long format certain columns (see ) required, naming columns user.Let us look datasets example.community data information abundance species community.\ndataset used weigh traits species abundance.\nNote abundance can also cover, size, biomass, something similar.example contains species names (e.g. Taxon), cover species per plot (e.g. Cover) two columns information hierarchy (.e. Site PlotID).trait data contain information traits trait values many species individuals community data possible.\ndata organized way community data corresponding columns.\nexample trait data contains Taxon, Site PlotID well Trait Value.","code":"#> # A tibble: 110 × 4\n#>    Taxon             Cover Site  PlotID\n#>    <chr>             <dbl> <chr> <chr> \n#>  1 alopecurus ovatus   0.5 1     B     \n#>  2 alopecurus ovatus   1   1     C     \n#>  3 alopecurus ovatus   1   1     D     \n#>  4 alopecurus ovatus   2   1     F     \n#>  5 alopecurus ovatus   0.1 1     G     \n#>  6 bistorta vigdis    10   1     A     \n#>  7 bistorta vigdis    25   1     B     \n#>  8 bistorta vigdis    10   1     C     \n#>  9 bistorta vigdis     2   1     D     \n#> 10 bistorta vigdis     1   1     F     \n#> # … with 100 more rows#> # A tibble: 749 × 5\n#>    Taxon                   Site  PlotID Trait         Value\n#>    <chr>                   <chr> <chr>  <chr>         <dbl>\n#>  1 saxifraga oppositifolia 1     A      Wet_Mass_g 0.000695\n#>  2 bistorta vigdis         1     C      Wet_Mass_g 0.0105  \n#>  3 festuca rubra           2     C      Wet_Mass_g 0.00724 \n#>  4 bistorta vigdis         1     C      Wet_Mass_g 0.0189  \n#>  5 equisetum arvense       1     E      Wet_Mass_g 0.270   \n#>  6 bistorta vigdis         1     B      Wet_Mass_g 0.0231  \n#>  7 luzula confusa          1     F      Wet_Mass_g 0.0135  \n#>  8 alopecurus ovatus       1     G      Wet_Mass_g 0.0234  \n#>  9 alopecurus ovatus       1     G      Wet_Mass_g 0.0300  \n#> 10 alopecurus ovatus       1     C      Wet_Mass_g 0.0267  \n#> # … with 739 more rows"},{"path":"resources.html","id":"trait-imputation","chapter":"3 Resources","heading":"3.4.4 Trait imputation","text":"trait_impute function uses hierarchical sampling design, allows account incomplete trait collections, traits different spatial temporal levels (.e. local traits vs. databases), different taxonomic resolution /experimental design.first two mandatory arguments function two datasets:\ncomm traitsThe next four arguments also mandatory refer specific columns trait community dataset:abundance abundance species community dataset. can abundance, cover, biomass, size, etc.taxon_col column community trait data define species.trait_col column trait data defines traits.value_col column trait data defines trait values.arguments mandatory.scale_hierarchy can define levels traits collected order trait imputation starting highest level (e.g. global database, regional, site, plot).\nexample levels Site PlotID, starting highest level.trait_impute function choose available trait value lowest level, .e. species X plot site 1.\ntrait value available level (plot , site 1), groups level choose trait value species X plot B C site 1.\ntrait available, move hierarchy next level choose trait values species X sites (site 2, 3, etc.).argument min_n_in_samples allows users define minimum number samples chosen level.\nminimum number reached (.e. 3 trait values specific level), trait values next higher level imputed, avoid sampling individual several times, result unrealistic variances.\ndefault minimum number samples 5.other_col argument grouping variables community dataset can defined kept trait imputation.Traitstrap also allows include taxonomy experimental design trait imputation step.argument taxon_col taxonomic hierarchy sampling can defined.\nmeans traits specific species available, trait values genus imputed.\nlist taxonomic hierarchy defined (e.g. “Taxon”, “Genus”).\nNote traits species genus can different traits might meaningful impute traits.\nTherefore, always check trait distributions genus using taxonomic trait imputation.argument treatment_col allows incorporate experimental design traits imputed experimental treatment first factor level, assumed control.\nTherefore, important order levels treatment right order, .e. first level control.\nimputation step can defined certain level using treatment_level argument.\nDepending experimental design might make sense impute traits certain level, e.g. block site.example include taxonomy experimental design trait imputation function (code run).","code":"\ntrait_imputation <- trait_impute(\n    # input data (mandatory)\n    comm = community,\n    traits = trait,\n    \n    # specifies columns in your data (mandatory)\n    abundance_col = \"Cover\",\n    taxon_col = \"Taxon\",\n    trait_col = \"Trait\",\n    value_col = \"Value\",\n    \n    # specifies sampling hierarchy\n    scale_hierarchy = c(\"Site\", \"PlotID\"),\n    \n    # min number of samples\n    min_n_in_sample = 9\n  )\ntrait_imputation\n#> # A tibble: 4,007 × 12\n#> # Groups:   global, Site, PlotID, Trait [28]\n#>    Taxon  Cover Site  PlotID global sum_abun Trait   Value n_sample weight level\n#>    <chr>  <dbl> <chr> <chr>  <chr>     <dbl> <chr>   <dbl>    <int>  <dbl> <ord>\n#>  1 festu…     1 1     A      global     38.2 Wet_… 0.00724       11 0.0909 glob…\n#>  2 festu…     1 1     A      global     38.2 Wet_… 0.0160        11 0.0909 glob…\n#>  3 festu…     1 1     A      global     38.2 Wet_… 0.00529       11 0.0909 glob…\n#>  4 festu…     1 1     A      global     38.2 Wet_… 0.0154        11 0.0909 glob…\n#>  5 festu…     1 1     A      global     38.2 Wet_… 0.0066        11 0.0909 glob…\n#>  6 festu…     1 1     A      global     38.2 Wet_… 0.00637       11 0.0909 glob…\n#>  7 festu…     1 1     A      global     38.2 Wet_… 0.00491       11 0.0909 glob…\n#>  8 festu…     1 1     A      global     38.2 Wet_… 0.0132        11 0.0909 glob…\n#>  9 festu…     1 1     A      global     38.2 Wet_… 0.0233        11 0.0909 glob…\n#> 10 festu…     1 1     A      global     38.2 Wet_… 0.0115        11 0.0909 glob…\n#> # … with 3,997 more rows, and 1 more variable: max_n_in_sample <int>trait_imputation2 <- trait_impute(\n    comm = community,\n    traits = trait,\n    \n    abundance_col = \"Cover\",\n    \n    # defining taxonomic hierarchy\n    taxon_col = c(\"Taxon\", \"Genus\"),\n    \n    trait_col = \"Trait\",\n    value_col = \"Value\",\n    \n    scale_hierarchy = c(\"Site\", \"PlotID\"),\n    min_n_in_sample = 3\n    \n    # specifying experimental design\n    treatment_col = \"Treatment\",\n    treatment_level = \"Site\",\n  )"},{"path":"resources.html","id":"nonparametric-bootstrapping","chapter":"3 Resources","heading":"3.4.5 Nonparametric bootstrapping","text":"output trait imputation function used nonparametric bootstrapping using trait_np_bootstrap function.Nonparametric bootstrapping resampling method estimate trait moments.\ntraits re-sampled proportion weight community (e.g. abundance species).trait values across individuals community resampled n times (sample_size; default 200) incorporate full spectrum trait variation, generating n number (nrep; default 100) trait distributions.trait distributions happy moments estimated: mean, variance, skewness kurtosis.function also allows extract raw distributions setting argument raw = TRUE.\nraw data can useful visualizing trait distributions.\nraw data extracted, nrep forced 1 avoid memory issues.One advantage using bootstrapping approach, get much mean trait value.\ncan also estimate variance moments trait distributions.\ntraitstrap happy moments can summarized confidence intervals calculated using trait_summarise_boot_moments function.\ninput variable function output nonparametric bootstrapping function (parametric bootstrapping function, see ).confidence interval can calculated parametrically, using mean standard deviation, nonparametrically using quantiles.\ndefault using mean standard deviation (parametric = TRUE) one standard deviation around trait moment (sd_mult = 1).\nnonparametric approach default 0.95 confidence level.","code":"\n# run nonparametric bootstrapping\nnp_bootstrapped_moments <- trait_np_bootstrap(\n  trait_imputation, \n  nrep = 200\n  )\nnp_bootstrapped_moments\n#> # A tibble: 5,600 × 9\n#> # Groups:   global, Site, PlotID [14]\n#>    n     global Site  PlotID Trait             mean   variance skewness kurtosis\n#>    <chr> <chr>  <chr> <chr>  <chr>            <dbl>      <dbl>    <dbl>    <dbl>\n#>  1 1     global 1     A      Plant_Height_cm 1.59    1.86         2.63     9.21 \n#>  2 1     global 1     A      Wet_Mass_g      0.0121  0.0000593    0.758    0.852\n#>  3 1     global 1     B      Plant_Height_cm 1.72    2.56         2.86     9.35 \n#>  4 1     global 1     B      Wet_Mass_g      0.0135  0.0000808    1.33     2.03 \n#>  5 1     global 1     C      Plant_Height_cm 1.82    1.82         2.34     5.92 \n#>  6 1     global 1     C      Wet_Mass_g      0.0158  0.000254     5.73    43.0  \n#>  7 1     global 1     D      Plant_Height_cm 1.88    4.70         2.48     5.83 \n#>  8 1     global 1     D      Wet_Mass_g      0.0116  0.0000357    1.06     1.55 \n#>  9 1     global 1     E      Plant_Height_cm 6.96   16.1          0.166   -0.608\n#> 10 1     global 1     E      Wet_Mass_g      0.0183  0.000398     2.19     3.44 \n#> # … with 5,590 more rows\n# summarizes bootstrapping output\nsum_boot_moment <- trait_summarise_boot_moments(\n  np_bootstrapped_moments\n  )\nsum_boot_moment\n#> # A tibble: 28 × 17\n#> # Groups:   global, Site, PlotID [14]\n#>    global Site  PlotID Trait           n   mean ci_low_mean ci_high_mean     var\n#>    <chr>  <chr> <chr>  <chr>       <int>  <dbl>       <dbl>        <dbl>   <dbl>\n#>  1 global 1     A      Plant_Heig…   200 1.72        1.60         1.83   2.67e+0\n#>  2 global 1     A      Wet_Mass_g    200 0.0121      0.0115       0.0127 6.52e-5\n#>  3 global 1     B      Plant_Heig…   200 1.75        1.64         1.87   2.62e+0\n#>  4 global 1     B      Wet_Mass_g    200 0.0136      0.0130       0.0142 6.89e-5\n#>  5 global 1     C      Plant_Heig…   200 1.72        1.62         1.81   1.81e+0\n#>  6 global 1     C      Wet_Mass_g    200 0.0150      0.0142       0.0157 1.36e-4\n#>  7 global 1     D      Plant_Heig…   200 1.86        1.73         2.00   4.65e+0\n#>  8 global 1     D      Wet_Mass_g    200 0.0118      0.0113       0.0123 5.12e-5\n#>  9 global 1     E      Plant_Heig…   200 7.08        6.79         7.38   1.69e+1\n#> 10 global 1     E      Wet_Mass_g    200 0.0162      0.0150       0.0174 2.75e-4\n#> # … with 18 more rows, and 8 more variables: ci_low_var <dbl>,\n#> #   ci_high_var <dbl>, skew <dbl>, ci_low_skew <dbl>, ci_high_skew <dbl>,\n#> #   kurt <dbl>, ci_low_kurt <dbl>, ci_high_kurt <dbl>"},{"path":"resources.html","id":"parametric-bootstrapping","chapter":"3 Resources","heading":"3.4.6 Parametric bootstrapping","text":"Traitstrap also offers option run parametric bootstrapping.trait_fit_distributions function fits parametric distributions species--trait combination finest scale user-supplied hierarchy.\nfunction takes input:object class imputed traits (produced function trait_impute), andthe type distribution fitted.Either single distribution type can used traits, traits can assigned specific distributions types supplying function named list traits (e.g. list(height = \"normal\", mass = \"lognormal\")).Currently function supports normal, log-normal, beta (values 0 1) distributions.function returns dataframe containing fitted distribution parameters.trait_parametric_bootstrap function parametric analogue trait_np_bootstrap function.\ntakes fitted trait distributions produced trait_fit_distributions randomly samples among fitted distributions proportionally species abundances community.trait_np_bootstrap, number samples per replicated draw specified parameter sample_size, number replicated draws specified parameter nrep.\nargument raw allows extract raw distributions (see ).output trait_parametric_bootstrap can summarized using trait_summarize_boot_moments (see ).","code":"\n# fit distributions\nfitted_distributions <- trait_fit_distributions(\n  imputed_traits = trait_imputation,\n  distribution_type = \"lognormal\"\n  )\n#> Warning in .data[[\"Trait\"]] == names(distribution_type)[distribution_type == :\n#> longer object length is not a multiple of shorter object length\nfitted_distributions\n#> # A tibble: 202 × 15\n#> # Groups:   global, Site, PlotID, Trait, Taxon, Cover, n_sample [202]\n#>    global Site  PlotID Trait  Taxon Cover n_sample distribution_ty…  parm1 parm2\n#>    <chr>  <chr> <chr>  <chr>  <chr> <dbl>    <int> <chr>             <dbl> <dbl>\n#>  1 global 1     A      Plant… bist…  10         28 lognormal         0.328 0.517\n#>  2 global 1     A      Plant… drya…   0.1        9 lognormal         1.04  0.704\n#>  3 global 1     A      Plant… fest…   1         11 lognormal         1.61  0.377\n#>  4 global 1     A      Plant… luzu…   0.5       15 lognormal         1.50  0.325\n#>  5 global 1     A      Plant… luzu…   1         20 lognormal         0.588 0.459\n#>  6 global 1     A      Plant… sali…  20         44 lognormal        -0.138 0.931\n#>  7 global 1     A      Plant… saxi…   2          6 lognormal         1.13  0.469\n#>  8 global 1     A      Plant… saxi…   2          2 lognormal         0.693 0    \n#>  9 global 1     A      Plant… sile…   1          3 lognormal        -0.221 0.277\n#> 10 global 1     A      Wet_M… bist…  10         29 lognormal        -4.06  0.454\n#> # … with 192 more rows, and 5 more variables: sd1 <lgl>, sd2 <lgl>, ks <dbl>,\n#> #   cvm <dbl>, ad <dbl>\n# fit several types of distributions\nfitted_distributions <- trait_fit_distributions(\n  imputed_traits = trait_imputation,\n  distribution_type = list(Plant_Height_cm = \"normal\", Wet_Mass_g = \"lognormal\")\n  )\nfitted_distributions\n# run parametric bootstrapping\np_bootstrapped_moments <- trait_parametric_bootstrap(\n    fitted_distributions = fitted_distributions, \n    nrep = 200\n    )\np_bootstrapped_moments\n#> # A tibble: 5,600 × 9\n#> # Groups:   global, Site, PlotID, Trait [28]\n#>    n     global Site  PlotID Trait             mean   variance skewness kurtosis\n#>    <chr> <chr>  <chr> <chr>  <chr>            <dbl>      <dbl>    <dbl>    <dbl>\n#>  1 1     global 1     A      Plant_Height_cm 1.73    2.39         2.47     10.4 \n#>  2 1     global 1     A      Wet_Mass_g      0.0116  0.0000683    1.31      2.26\n#>  3 1     global 1     B      Plant_Height_cm 1.85    2.79         1.69      2.82\n#>  4 1     global 1     B      Wet_Mass_g      0.0137  0.0000766    1.46      2.51\n#>  5 1     global 1     C      Plant_Height_cm 1.81    1.67         2.01      3.95\n#>  6 1     global 1     C      Wet_Mass_g      0.0153  0.000257     7.15     68.4 \n#>  7 1     global 1     D      Plant_Height_cm 1.98    4.70         1.76      2.70\n#>  8 1     global 1     D      Wet_Mass_g      0.0116  0.0000411    2.04      5.46\n#>  9 1     global 1     E      Plant_Height_cm 7.30   19.8          0.939     1.83\n#> 10 1     global 1     E      Wet_Mass_g      0.0167  0.000298     3.62     18.8 \n#> # … with 5,590 more rows"},{"path":"resources.html","id":"extracting-raw-distributions","chapter":"3 Resources","heading":"3.4.7 Extracting raw distributions","text":"traitstrap parametric nonparametric bootstrapping functions allow returning raw trait distributions.raw data can useful visualizing trait distributions.Use colour facets separate different traits, hierarchies treatments.","code":"\n# run nonparametric bootstrapping\nraw_dist_np <- trait_np_bootstrap(\n  trait_imputation,\n  raw = TRUE\n  )\nraw_dist_np\n#> # A tibble: 5,600 × 13\n#> # Groups:   global, Site, PlotID, Trait [28]\n#>    n     Taxon    Cover Site  PlotID global sum_abun Trait Value n_sample weight\n#>    <chr> <chr>    <dbl> <chr> <chr>  <chr>     <dbl> <chr> <dbl>    <int>  <dbl>\n#>  1 1     salix p…    20 1     A      global     38.2 Plan…   6.1       44  0.455\n#>  2 1     salix p…    20 1     A      global     38.2 Plan…   0.4       44  0.455\n#>  3 1     salix p…    20 1     A      global     38.2 Plan…   1.3       44  0.455\n#>  4 1     salix p…    20 1     A      global     38.2 Plan…   0.4       44  0.455\n#>  5 1     salix p…    20 1     A      global     38.2 Plan…   0.3       44  0.455\n#>  6 1     salix p…    20 1     A      global     38.2 Plan…   0.3       44  0.455\n#>  7 1     salix p…    20 1     A      global     38.2 Plan…   0.7       44  0.455\n#>  8 1     salix p…    20 1     A      global     38.2 Plan…   0.3       44  0.455\n#>  9 1     salix p…    20 1     A      global     38.2 Plan…   1.5       44  0.455\n#> 10 1     salix p…    20 1     A      global     38.2 Plan…   1         44  0.455\n#> # … with 5,590 more rows, and 2 more variables: level <ord>,\n#> #   max_n_in_sample <int>\nggplot(raw_dist_np, aes(x = log(Value), fill = Site)) +\n  geom_density(alpha = 0.4) +\n  scale_fill_viridis_d(end = 0.9, option = \"plasma\") +\n  labs(x = \"log(trait value)\") +\n  facet_wrap( ~ Trait, scales = \"free\")"},{"path":"resources.html","id":"check-your-data","chapter":"3 Resources","heading":"3.4.8 Check your data","text":"Traitstrap couple functions check data.coverage_plot function shows trait coverage community level.\nBasically, function summarizes level traits imputed, much coverage community reached.Based simulations, recommend collect traits least 80% community cover (Maitner et al. prep).Another important information know taxa traits missing.\ncan useful data sampling finished want know species sampled.\nfunction also tells maximal abundance missing species, gives useful information missing species abundant rare.Traitstrap function trait_missing gives table missing values.","code":"\n# show coverage plot\nautoplot(trait_imputation) + \n  theme(axis.text.x = element_text(size = 8, angle = 90, vjust = 0.5))\n# list missing traits\ntrait_missing(imputed_trait = trait_imputation,\n              comm = community)\n#> # A tibble: 20 × 3\n#> # Groups:   Taxon [20]\n#>    Taxon                      max_abun n_traits\n#>    <chr>                         <dbl>    <int>\n#>  1 alopecurus ovatus               2          2\n#>  2 bistorta vigdis                25          2\n#>  3 calamagrostis neglecta         60          2\n#>  4 cassiope tetragona              5          2\n#>  5 dryas octopetala               20          2\n#>  6 enquistetum scirpoides          2          2\n#>  7 festuca rubra                   1          2\n#>  8 juncus biglumis                 0.5        1\n#>  9 luzula confusa                  5          2\n#> 10 luzula nivalis                  5          2\n#> 11 maitneranthes hieracifolia      0.5        1\n#> 12 oxyria tanyna                   2          2\n#> 13 poa pratensis                   1          2\n#> 14 salix polaris                  43          2\n#> 15 saxifraga hirculus              2          2\n#> 16 saxifraga oppositifolia         2          2\n#> 17 silene acaudis                  1          2\n#> 18 stelfordaria humifusa           0.5        1\n#> 19 stellaria longipes              0.1        1\n#> 20 trisetum spicatum               3          2"},{"path":"group-projects.html","id":"group-projects","chapter":"4 Group projects","heading":"4 Group projects","text":"","code":""},{"path":"group-projects.html","id":"plastic-trait-responses-to-climate-change.","chapter":"4 Group projects","heading":"4.1 Plastic trait responses to climate change.","text":"group harness existing climate change experiments (Open Top Chambers) assess plastic trait responses experimental warming biotic interactions plants alpine vs. warmer-climate origins. group collaborate group 3 understand variability impacts leaf ecophysiology. Group leader: Sonya Geange","code":""},{"path":"group-projects.html","id":"plant-trait-responses-to-global-change.","chapter":"4 Group projects","heading":"4.2 Plant trait responses to global change.","text":"group assess community trait distribution responses interactive effects warmer climate, nitrogen deposition, grazing along elevational gradient, explore consequences plant community assembly ecosystem functioning. group collaborate groups 3 4 understand plant ecosystem functional consequences community shifts. Group leaders: Julia Chacon & Aud Halbritter","code":""},{"path":"group-projects.html","id":"leaf-traits-as-a-tool-to-understand-climate-impacts-on-photosynthesis-and-respiration.","chapter":"4 Group projects","heading":"4.3 Leaf traits as a tool to understand climate impacts on photosynthesis and respiration.","text":"group study plant temperatures photosynthetic rates vary plants alpine warmer-climate origin, along elevational gradients, response global change drivers. Group 3 collaborate groups 1 2 put responses context broader plant community responses global change. Group leaders: Sean Michaletz & Joseph Garen","code":""},{"path":"group-projects.html","id":"climate-change-impacts-on-traits-and-ecosystem-functioning.","chapter":"4 Group projects","heading":"4.4 Climate change impacts on traits and ecosystem functioning.","text":"group study trait composition influences ecosystem functioning measuring CO2-flux within across plant communities. Group 4 collaborate group 2 access data community trait shifts, mainly focus ecosystem carbon dynamics response climate change, also nitrogen deposition grazing. Group leader: Joseph Gaudard","code":""},{"path":"group-projects.html","id":"remote-assessment-of-plant-traits-and-ecosystem-functioning.","chapter":"4 Group projects","heading":"4.5 Remote assessment of plant traits and ecosystem functioning.","text":"group use technologies based Unmanned Aerial Vehicles (UAV/drone) combination measurements experiments assess remotely-sensed data (e.g., reflectance spectra) can capture plant ecosystem functional shifts leaf landscape-scale. group collaborate groups 1-4 community-level data. Students applying group experience geospatial analyses. Group leaders: Marc Macias-Fauria & Marcus Spiegel (TBC)","code":""},{"path":"group-projects.html","id":"culturally-relevant-science-communication.","chapter":"4 Group projects","heading":"4.6 Culturally relevant science communication.","text":"group use questionnaires interviews engage local community, aim learning knowledge perceptions climate change (especially relevant local considerations). Group 6 conduct research locally Western Norway, compare results previous PFTC courses Peru Svalbard, draft manuscript publication. Group leader: Sehoya Cotner","code":""}]
