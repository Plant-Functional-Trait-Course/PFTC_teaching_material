<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>1 Using PFTC data | PFTC Teaching Material</title>
<meta name="author" content="Aud Halbritter">
<meta name="description" content="1.1 Data curation Data curation, transformation or cleaning is the first step after digitizing the data. Each dataset has to be checked for errors and corrected as best as possible. This tutorial...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="1 Using PFTC data | PFTC Teaching Material">
<meta property="og:type" content="book">
<meta property="og:description" content="1.1 Data curation Data curation, transformation or cleaning is the first step after digitizing the data. Each dataset has to be checked for errors and corrected as best as possible. This tutorial...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="1 Using PFTC data | PFTC Teaching Material">
<meta name="twitter:description" content="1.1 Data curation Data curation, transformation or cleaning is the first step after digitizing the data. Each dataset has to be checked for errors and corrected as best as possible. This tutorial...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.12/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style-chapters.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">PFTC Teaching Material</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">PFTC Teaching material</a></li>
<li><a class="active" href="using-pftc-data.html"><span class="header-section-number">1</span> Using PFTC data</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="using-pftc-data" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> Using PFTC data<a class="anchor" aria-label="anchor" href="#using-pftc-data"><i class="fas fa-link"></i></a>
</h1>

<div id="data-curation" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Data curation<a class="anchor" aria-label="anchor" href="#data-curation"><i class="fas fa-link"></i></a>
</h2>
<p>Data curation, transformation or cleaning is the first step after digitizing the data.
Each dataset has to be checked for errors and corrected as best as possible.
This tutorial shows how to check your dataset for errors and how to correct them.</p>
<p>There are a couple of R packages that are useful for this work.</p>
<p>If you have never used the packages you need to install them first using the function <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code>.
Otherwise, you can just load the packages.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></code></pre></div>
<p>For this tutorial we will be working with the trait dataset from Svalbard.
See section @ref(using_pftc_data) for how to access the data and information about the study, experiment and datasets.</p>
<div id="import-data" class="section level3" number="1.1.1">
<h3>
<span class="header-section-number">1.1.1</span> Import data<a class="anchor" aria-label="anchor" href="#import-data"><i class="fas fa-link"></i></a>
</h3>
<p>The first step is to import the data to R.
The data is stored as a <em>csv file</em> and we can use the function <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv()</a></code> to import that data.
If your data has another format or importing data is new to, you have a look at this <a href="https://biostats-r.github.io/biostats/workingInR/importing-data-in-r.html">page</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"data/PFTC4_Svalbard_2018_Gradient_Traits.csv"</span><span class="op">)</span>
<span class="co">#&gt; Rows: 11345 Columns: 15</span>
<span class="co">#&gt; ── Column specification ────────────────────────────────────────────────────────</span>
<span class="co">#&gt; Delimiter: ","</span>
<span class="co">#&gt; chr  (7): Project, Gradient, PlotID, ID, Functional_group, Taxon, Trait</span>
<span class="co">#&gt; dbl  (7): Year, Site, Individual_nr, Value, Elevation_m, Latitude_N, Longitu...</span>
<span class="co">#&gt; date (1): Date</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ℹ Use `spec()` to retrieve the full column specification for this data.</span>
<span class="co">#&gt; ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></code></pre></div>
<p>Give the dataset a name that indicates that this is the raw data.</p>
<p>The dataset contains measurements of 14 traits from two elevational gradients on Svalbard.
The traits were measured on individual plants from 21 different graminoid and forb species.
For more information about the sites, traits and measurements see <a href="https://github.com/Plant-Functional-Trait-Course/PFTC_4_Svalbard">here</a>.</p>
<p><strong>Some manipulation</strong></p>
<p>Let us introduce some errors that we want to find and fix.</p>
<p>The code to do this is hidden.
But if you want to replicate the introduction to the errors you can find the code here (add link!!!).</p>
</div>
<div id="first-check-of-the-dataset" class="section level3" number="1.1.2">
<h3>
<span class="header-section-number">1.1.2</span> First check of the dataset<a class="anchor" aria-label="anchor" href="#first-check-of-the-dataset"><i class="fas fa-link"></i></a>
</h3>
<p>By typing <code>raw_traits</code> in the console it will display the first rows and columns of the dataset.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span>
<span class="co">#&gt; # A tibble: 11,346 × 12</span>
<span class="co">#&gt;    Date       Gradient  Site PlotID Individual_nr ID      Taxon    Trait   Value</span>
<span class="co">#&gt;    &lt;chr&gt;      &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt;  1 2018-07-20 B            5 D                  1 AIB1395 saxifra… Plan… 6.5 e+0</span>
<span class="co">#&gt;  2 2018-07-20 B            5 D                  1 AIB1395 saxifra… Wet_… 2.92e-2</span>
<span class="co">#&gt;  3 2018-07-20 B            5 D                  1 AIB1395 saxifra… Dry_… 4   e-3</span>
<span class="co">#&gt;  4 2018-07-20 B            5 D                  1 AIB1395 saxifra… Leaf… 5.66e-1</span>
<span class="co">#&gt;  5 2018-07-20 B            5 D                  1 AIB1395 saxifra… Leaf… 6.75e-1</span>
<span class="co">#&gt;  6 2018-07-20 B            5 D                  1 AIB1395 saxifra… SLA_… 1.69e+2</span>
<span class="co">#&gt;  7 2018-07-20 B            5 D                  1 AIB1395 saxifra… LDMC  1.37e-1</span>
<span class="co">#&gt;  8 2018-07-20 B            5 D                  1 AIB1395 saxifra… C_pe… 3.89e+1</span>
<span class="co">#&gt;  9 2018-07-20 B            5 D                  1 AIB1395 saxifra… N_pe… 1.14e+0</span>
<span class="co">#&gt; 10 2018-07-20 B            5 D                  1 AIB1395 saxifra… CN_r… 3.41e+1</span>
<span class="co">#&gt; # … with 11,336 more rows, and 3 more variables: Elevation_m &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Latitude_N &lt;dbl&gt;, Longitude_E &lt;dbl&gt;</span></code></pre></div>
<p>At the top you can see that the dataset has 11346 observations and 12 columns.
These numbers give you a first impression if you have imported the right file, and if all your observations and columns are there.</p>
</div>
<div id="check-the-data-type" class="section level3" number="1.1.3">
<h3>
<span class="header-section-number">1.1.3</span> Check the data type<a class="anchor" aria-label="anchor" href="#check-the-data-type"><i class="fas fa-link"></i></a>
</h3>
<p>The next thing to check is if the variables have the right data type (or class in R terminology).
For each variable the output indicates the data type. The most common types are <em>dbl</em> (numeric or integer), <em>chr</em> (character), or <em>date</em> (date).</p>
<p>If you want to know more about data types see <a href="https://biostats-r.github.io/biostats/workingInR/first-steps-in-r.html#data-types-and-objects">here</a>.</p>
<p>Now we want to check if the variables have the right data type.
The first variable <em>Date</em> is a character, which is not correct.
This probably means that one or several observations have a wrong date.
Let us check all different values for the variable <em>Date</em>.
For this we can use the function <code><a href="https://rdrr.io/pkg/tidylog/man/distinct.html">distinct()</a></code> on the variable <em>Date</em>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">Date</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 8 × 1</span>
<span class="co">#&gt;   Date      </span>
<span class="co">#&gt;   &lt;chr&gt;     </span>
<span class="co">#&gt; 1 2018-07-20</span>
<span class="co">#&gt; 2 2018-07-18</span>
<span class="co">#&gt; 3 2018-07-21</span>
<span class="co">#&gt; 4 2018-07-24</span>
<span class="co">#&gt; 5 2018-07-19</span>
<span class="co">#&gt; 6 2018-07-17</span>
<span class="co">#&gt; 7 18        </span>
<span class="co">#&gt; 8 &lt;NA&gt;</span></code></pre></div>
<p>We can see that there are 6 distinct dates in this variable.
One of the dates is “18”, which is not a correct date format and turned the variable into a character.</p>
<p>The next step is to check where the problem occurred.
For this we can use the function <code><a href="https://rdrr.io/pkg/tidylog/man/filter.html">filter()</a></code> to extract all observations with the date 18.
We can use <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code> to display the whole table.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">==</span> <span class="st">"18"</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   Date Gradient Site PlotID Individual_nr      ID         Taxon</span>
<span class="co">#&gt; 1   18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 2   18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 3   18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 4   18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 5   18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 6   18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 7   18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt;               Trait       Value Elevation_m Latitude_N Longitude_E</span>
<span class="co">#&gt; 1   Plant_Height_cm   1.1000000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 2        Wet_Mass_g   0.0057600    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 3        Dry_Mass_g   0.0020000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 4 Leaf_Thickness_mm   0.1880000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 5     Leaf_Area_cm2   0.2840000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 6         SLA_cm2_g 142.0000000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 7              LDMC   0.3472222    9.916197   78.21307    15.71207</span></code></pre></div>
<p>We see that it is a single observation (with multiple traits) that has the wrong date.
The next step is to check the raw data, notes, photos, etc. to find the correct date for this observations.
It is important to keep the data entry sheets, take a photo of them and keep the field notes to be able to fix such problems.</p>
<!-- Add picture of the envelope!!! -->
<p>Since the value for date is 18, we will assume now that this was a typo and that the correct date is 2018-07-18.
Let’s replace this value and give the variable the right class.</p>
<p>For this we will use the function <code><a href="https://rdrr.io/pkg/tidylog/man/mutate.html">mutate()</a></code> which adds or manipulates a column.
Inside the mutate we will use the <code><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else()</a></code> function to replace the date for a specific ID.
To give the variable the correct class, we use the <code>ymd()</code> function from the lubridate package.
Note that we now have to assign the table to a new or the same name to make the change permanent.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> <span class="op">&lt;-</span> <span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Date <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">ID</span> <span class="op">==</span> <span class="st">"AMO3822"</span>, <span class="st">"2018-07-18"</span>, <span class="va">Date</span><span class="op">)</span>,
         Date <span class="op">=</span> <span class="fu">ymd</span><span class="op">(</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>An important step when cleaning data is to check that you have done the right thing.
One way to do this here is to look at the specific leaf (ID == “AMO3822”) and see if the date is now corrected.
Another way would be to run the <code>distinct(Date)</code> function again.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">ID</span> <span class="op">==</span> <span class="st">"AMO3822"</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;         Date Gradient Site PlotID Individual_nr      ID         Taxon</span>
<span class="co">#&gt; 1 2018-07-18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 2 2018-07-18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 3 2018-07-18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 4 2018-07-18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 5 2018-07-18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 6 2018-07-18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt; 7 2018-07-18        C    1      A             3 AMO3822 salix polaris</span>
<span class="co">#&gt;               Trait       Value Elevation_m Latitude_N Longitude_E</span>
<span class="co">#&gt; 1   Plant_Height_cm   1.1000000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 2        Wet_Mass_g   0.0057600    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 3        Dry_Mass_g   0.0020000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 4 Leaf_Thickness_mm   0.1880000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 5     Leaf_Area_cm2   0.2840000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 6         SLA_cm2_g 142.0000000    9.916197   78.21307    15.71207</span>
<span class="co">#&gt; 7              LDMC   0.3472222    9.916197   78.21307    15.71207</span></code></pre></div>
<p>We can see that the date has been fixed.</p>
</div>
<div id="exercise" class="section level3 unnumbered exercise toc-ignore">
<h3>Exercise<a class="anchor" aria-label="anchor" href="#exercise"><i class="fas fa-link"></i></a>
</h3>
<p>Now it is your turn.
Check if the data type for the variable <em>Date</em> is now correct.</p>
<details><summary>
Hint
</summary><ul>
<li>type <code>raw_traits</code> to look at the whole dataset where the datatype of each variable is indicated</li>
<li>use <code>class(raw_traits)</code> which will tell you directly what type of class the variable has</li>
</ul></details>
</div>
<div id="check-for-duplicates" class="section level3" number="1.1.4">
<h3>
<span class="header-section-number">1.1.4</span> Check for duplicates<a class="anchor" aria-label="anchor" href="#check-for-duplicates"><i class="fas fa-link"></i></a>
</h3>
<p>Another common problem is duplicate observations.
This can happen when data is entered twice.
The why to find duplicates is to check that the combination of variables are unique.
In our dataset, we expect that <em>Date</em>, <em>Gradient</em>, <em>Site</em>, <em>PlotID</em>, <em>Individual_nr</em>, <em>ID</em>, <em>Taxon</em> and <em>Trait</em> should be unique, and only occurring once.</p>
<p>To check this, we can <code><a href="https://rdrr.io/pkg/tidylog/man/group_by.html">group_by()</a></code> these variables and <code><a href="https://rdrr.io/pkg/tidylog/man/filter.html">filter()</a></code> for observations that occur more than once.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Date</span>, <span class="va">Gradient</span>, <span class="va">Site</span>, <span class="va">PlotID</span>, <span class="va">Individual_nr</span>, <span class="va">ID</span>, <span class="va">Taxon</span>, <span class="va">Trait</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 × 12</span>
<span class="co">#&gt; # Groups:   Date, Gradient, Site, PlotID, Individual_nr, ID, Taxon, Trait [1]</span>
<span class="co">#&gt;   Date       Gradient  Site PlotID Individual_nr ID      Taxon     Trait   Value</span>
<span class="co">#&gt;   &lt;date&gt;     &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;   &lt;dbl&gt;</span>
<span class="co">#&gt; 1 2018-07-20 B            3 C                  3 BEK3638 salix po… Dry_… 0.00275</span>
<span class="co">#&gt; 2 2018-07-20 B            3 C                  3 BEK3638 salix po… Dry_… 0.00275</span>
<span class="co">#&gt; # … with 3 more variables: Elevation_m &lt;dbl&gt;, Latitude_N &lt;dbl&gt;,</span>
<span class="co">#&gt; #   Longitude_E &lt;dbl&gt;</span></code></pre></div>
<p>There is one duplicate entry.</p>
<p>Note that <em>Value</em> was not included in the <code><a href="https://rdrr.io/pkg/tidylog/man/group_by.html">group_by()</a></code>.
This was done intentionally, because a common mistake is to have a duplicate, but with a different value.
This is either because one of the variables is wrong, e.g. it has the wrong Site and therefore appears to be a duplicate.
Alternatively, the leaf could have been measured twice by accident, which would likely give two slightly different values.
When getting a duplicate, these different options for why there is a duplicate have to be considered and carefully checked in the raw data.</p>
<p>In this case, we will assume that the leaf has only been measured once, but the data has been entered twice.
Thus, the two entries are exact duplicates.</p>
<p>We can use a similar way to fix the problem.
We group again by the variables we expect to be unique.
Then we create a new variable that counts the number of time a unique combination occurs.
And then we filter away the duplicates.
At the end, we remove the new variable and ungroup the data.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits2</span> <span class="op">&lt;-</span> <span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Date</span>, <span class="va">Gradient</span>, <span class="va">Site</span>, <span class="va">PlotID</span>, <span class="va">Individual_nr</span>, <span class="va">ID</span>, <span class="va">Taxon</span>, <span class="va">Trait</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">n</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">n</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>We should now check again if this code has changed the data in the correct way.
One way to check this, would be to run the code from above that checks for duplicates again.
An alternative is to use the <strong>tidylog package</strong>.</p>
</div>
<div id="check-data-cleaning-using-tidylog" class="section level3" number="1.1.5">
<h3>
<span class="header-section-number">1.1.5</span> Check data cleaning using tidylog<a class="anchor" aria-label="anchor" href="#check-data-cleaning-using-tidylog"><i class="fas fa-link"></i></a>
</h3>
<p>Tidylog packages is built on the <strong>dplyr</strong> and <strong>tidyr</strong> packages and provides useful information about the functions used.</p>
<p>Tidylog will for example tell you how many rows have been removed and are remaining when using the <code><a href="https://rdrr.io/pkg/tidylog/man/filter.html">filter()</a></code> function or how many rows match when using a join function.
This additional information is very useful, because mistakes can easily happen when transforming and cleaning data.</p>
<p>Let’s install and load the <em>tidylog package</em>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidylog"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/elbersb/tidylog/">tidylog</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'tidylog'</span>
<span class="co">#&gt; The following objects are masked from 'package:dplyr':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     add_count, add_tally, anti_join, count, distinct, distinct_all,</span>
<span class="co">#&gt;     distinct_at, distinct_if, filter, filter_all, filter_at, filter_if,</span>
<span class="co">#&gt;     full_join, group_by, group_by_all, group_by_at, group_by_if,</span>
<span class="co">#&gt;     inner_join, left_join, mutate, mutate_all, mutate_at, mutate_if,</span>
<span class="co">#&gt;     relocate, rename, rename_all, rename_at, rename_if, rename_with,</span>
<span class="co">#&gt;     right_join, sample_frac, sample_n, select, select_all, select_at,</span>
<span class="co">#&gt;     select_if, semi_join, slice, slice_head, slice_max, slice_min,</span>
<span class="co">#&gt;     slice_sample, slice_tail, summarise, summarise_all, summarise_at,</span>
<span class="co">#&gt;     summarise_if, summarize, summarize_all, summarize_at, summarize_if,</span>
<span class="co">#&gt;     tally, top_frac, top_n, transmute, transmute_all, transmute_at,</span>
<span class="co">#&gt;     transmute_if, ungroup</span>
<span class="co">#&gt; The following objects are masked from 'package:tidyr':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     drop_na, fill, gather, pivot_longer, pivot_wider, replace_na,</span>
<span class="co">#&gt;     spread, uncount</span>
<span class="co">#&gt; The following object is masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter</span></code></pre></div>
<p>Now we can remove the duplicates again, but this time using the tidylog version of the dyplr functions.
For clarity, the code indicates that the tidylog version is used with the following notation: <code>tidylog::</code>.
However, this notation is not necessary, because once the <em>tidylog package</em> is loaded it will automatically prioritize the tidylog function and you actively have to choose if you do not want to use it.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> <span class="op">&lt;-</span> <span class="va">raw_traits</span> |&gt; 
  <span class="fu">tidylog</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Date</span>, <span class="va">Gradient</span>, <span class="va">Site</span>, <span class="va">PlotID</span>, <span class="va">Individual_nr</span>, <span class="va">ID</span>, <span class="va">Taxon</span>, <span class="va">Trait</span><span class="op">)</span> |&gt; 
  <span class="fu">tidylog</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/mutate.html">mutate</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> |&gt; 
  <span class="fu">tidylog</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/filter.html">filter</a></span><span class="op">(</span><span class="va">n</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> |&gt; 
  <span class="fu">tidylog</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">n</span><span class="op">)</span> |&gt; 
  <span class="fu">tidylog</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/ungroup.html">ungroup</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; group_by: 8 grouping variables (Date, Gradient, Site, PlotID, Individual_nr, …)</span>
<span class="co">#&gt; mutate (grouped): new variable 'n' (integer) with 2 unique values and 0% NA</span>
<span class="co">#&gt; filter (grouped): removed one row (&lt;1%), 11,345 rows remaining</span>
<span class="co">#&gt; select: dropped one variable (n)</span>
<span class="co">#&gt; ungroup: no grouping variables</span></code></pre></div>
<p>The additional information about the operations is displayed below the code in the console.
There are 8 grouping variables, and <code><a href="https://rdrr.io/pkg/tidylog/man/mutate.html">mutate()</a></code> creates a new variable with 2 unique values. As expected, one row is filtered away, which is the duplicated row.
Then one column is removed and the dataset ungrouped.</p>
<p>The information is always indicated in absolute numbers and percentage which can be very useful.</p>
</div>
<div id="check-for-missing-data" class="section level3" number="1.1.6">
<h3>
<span class="header-section-number">1.1.6</span> Check for missing data<a class="anchor" aria-label="anchor" href="#check-for-missing-data"><i class="fas fa-link"></i></a>
</h3>
<p>A common problem in a dataset are missing values.</p>
<p>How to detect missing values…</p>
<p>Once the missing values are detected one has to decide if the missing data can be recovered, or if the missing values should be removed from the dataset.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> <span class="op">&lt;-</span> <span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">Value</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; filter: removed 3 rows (&lt;1%), 11,342 rows remaining</span></code></pre></div>
<p>This operation has removed 3 rows, which is the number of NA’s in the dataset.</p>
</div>
<div id="check-values-whing-variables" class="section level3" number="1.1.7">
<h3>
<span class="header-section-number">1.1.7</span> Check values whing variables<a class="anchor" aria-label="anchor" href="#check-values-whing-variables"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/distinct.html">distinct</a></span><span class="op">(</span><span class="va">Taxon</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">Taxon</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>
<span class="co">#&gt; distinct: removed 11,298 rows (&gt;99%), 44 rows remaining</span>
<span class="co">#&gt; # A tibble: 44 × 1</span>
<span class="co">#&gt;    Taxon                   </span>
<span class="co">#&gt;    &lt;chr&gt;                   </span>
<span class="co">#&gt;  1 alopecurus ovatus       </span>
<span class="co">#&gt;  2 aulacomnium turgidum    </span>
<span class="co">#&gt;  3 bistorta vivipara       </span>
<span class="co">#&gt;  4 calamagrostis neglecta  </span>
<span class="co">#&gt;  5 cassiope tetragona      </span>
<span class="co">#&gt;  6 cerastium arcticum      </span>
<span class="co">#&gt;  7 dicranum sp             </span>
<span class="co">#&gt;  8 draba arctica           </span>
<span class="co">#&gt;  9 draba oxycarpa          </span>
<span class="co">#&gt; 10 dryas octopetala        </span>
<span class="co">#&gt; 11 equisetum arvense       </span>
<span class="co">#&gt; 12 equisetum scirpoides    </span>
<span class="co">#&gt; 13 festuca rubra           </span>
<span class="co">#&gt; 14 festuca viviparoidea    </span>
<span class="co">#&gt; 15 hylocomium splendens    </span>
<span class="co">#&gt; 16 luzula confusa          </span>
<span class="co">#&gt; 17 luzula nivalis          </span>
<span class="co">#&gt; 18 micranthes hieraciifolia</span>
<span class="co">#&gt; 19 micranthes nivalis      </span>
<span class="co">#&gt; 20 niphotrichum canescens  </span>
<span class="co">#&gt; 21 niphotrichum sp         </span>
<span class="co">#&gt; 22 oxiria digyna           </span>
<span class="co">#&gt; 23 oxyra digyna            </span>
<span class="co">#&gt; 24 oxyria digina           </span>
<span class="co">#&gt; 25 oxyria digyna           </span>
<span class="co">#&gt; 26 pedicularis hirsuta     </span>
<span class="co">#&gt; 27 poa alpina              </span>
<span class="co">#&gt; 28 poa arctica             </span>
<span class="co">#&gt; 29 poa pratensis           </span>
<span class="co">#&gt; 30 polytrichum piliferum   </span>
<span class="co">#&gt; 31 polytrichum sp          </span>
<span class="co">#&gt; 32 potentilla hyparctica   </span>
<span class="co">#&gt; 33 ranunculus sulphureus   </span>
<span class="co">#&gt; 34 salix polaris           </span>
<span class="co">#&gt; 35 sanionia sp             </span>
<span class="co">#&gt; 36 saxifraga cernua        </span>
<span class="co">#&gt; 37 saxifraga cespitosa     </span>
<span class="co">#&gt; 38 saxifraga hirculus      </span>
<span class="co">#&gt; 39 saxifraga oppositifolia </span>
<span class="co">#&gt; 40 silene acaulis          </span>
<span class="co">#&gt; 41 stellaria longipes      </span>
<span class="co">#&gt; 42 syntrichia ruralis      </span>
<span class="co">#&gt; 43 tomentypnum nitens      </span>
<span class="co">#&gt; 44 trisetum spicatum</span></code></pre></div>
<p>4 different versions of <em>oxyra digyna</em>!
rename
alternative would be to use a dictionnary.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> <span class="op">&lt;-</span> <span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/mutate.html">mutate</a></span><span class="op">(</span>Taxon <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">Taxon</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"oxiria digyna"</span>, <span class="st">"oxyria digina"</span>, <span class="st">"oxyra digyna"</span><span class="op">)</span>, <span class="st">"oxyria digyna"</span>, <span class="va">Taxon</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; mutate: changed 28 values (&lt;1%) of 'Taxon' (0 new NA)</span></code></pre></div>
</div>
<div id="visualise-data" class="section level3" number="1.1.8">
<h3>
<span class="header-section-number">1.1.8</span> Visualise data<a class="anchor" aria-label="anchor" href="#visualise-data"><i class="fas fa-link"></i></a>
</h3>
<p>Some errors and problems in the data are difficult to detect.
Checking if the measurements are realistic is nearly impossible by looking at a dataframe.
For this, visualising the data is much more effective.</p>
<p>Make histograms, this shows the range of the values</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Value</span>, fill <span class="op">=</span> <span class="va">Gradient</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"green4"</span>, <span class="st">"grey"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">Trait</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="5-2_data_curation_files/figure-html/hist-1.png" width="672"></div>
<p>Note that the size traits (height, mass, area and thickness) have very long tails.
It is common to log transform such variables to better see the full range of the variables.</p>
<p>Leaf area has a huge tail and goes up to almost 20’000 cm<sup>2</sup>.
This would be a leaf of almost 2 m<sup>2</sup>, which is nearly impossible.
This value needs to be checked, it could be a typo.</p>
<p>Let’s log transform the size traits.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">raw_traits</span> <span class="op">&lt;-</span> <span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/mutate.html">mutate</a></span><span class="op">(</span>Value <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a></span><span class="op">(</span><span class="va">Trait</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="st">"Plant_Height_cm"</span>,
    <span class="st">"Wet_Mass_g"</span>,
    <span class="st">"Dry_Mass_g"</span>,
    <span class="st">"Leaf_Area_cm2"</span>,
    <span class="st">"Leaf_Thickness_mm"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">Value</span><span class="op">)</span>, <span class="va">Value</span><span class="op">)</span>,
    Trait <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/recode.html">recode</a></span><span class="op">(</span><span class="va">Trait</span>,
                   <span class="st">"Plant_Height_cm"</span> <span class="op">=</span> <span class="st">"Plant_Height_cm_log"</span>,
                   <span class="st">"Wet_Mass_g"</span> <span class="op">=</span> <span class="st">"Wet_Mass_g_log"</span>,
                   <span class="st">"Dry_Mass_g"</span> <span class="op">=</span> <span class="st">"Dry_Mass_g_log"</span>,
                   <span class="st">"Leaf_Area_cm2"</span> <span class="op">=</span> <span class="st">"Leaf_Area_cm2_log"</span>,
                   <span class="st">"Leaf_Thickness_mm"</span> <span class="op">=</span> <span class="st">"Thickness_mm_log"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Warning in log(Value): NaNs produced</span>
<span class="co">#&gt; mutate: changed 5,427 values (48%) of 'Trait' (0 new NA)</span>
<span class="co">#&gt;         changed 5,427 values (48%) of 'Value' (0 new NA)</span></code></pre></div>
<p>And make plot again.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Value</span>, fill <span class="op">=</span> <span class="va">Gradient</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"green4"</span>, <span class="st">"grey"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">Trait</span>, scales <span class="op">=</span> <span class="st">"free"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="5-2_data_curation_files/figure-html/hist-log-1.png" width="672"></div>
<p>The size traits are now easier to read.</p>
<p>Another way to check the data is to plot correlated values against each other.
In this dataset, we can plot dry mass against leaf area. We would expect a positive correlation between the two variables, where large leaves have a higher dry mass.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">raw_traits</span> |&gt; 
  <span class="fu"><a href="https://rdrr.io/pkg/tidylog/man/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">Trait</span>, values_from <span class="op">=</span> <span class="va">Value</span><span class="op">)</span> |&gt; 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Dry_Mass_g_log</span>, y <span class="op">=</span> <span class="va">Leaf_Area_cm2_log</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; pivot_wider: reorganized (Trait, Value) into (Plant_Height_cm_log, Wet_Mass_g_log, Dry_Mass_g_log, Thickness_mm_log, Leaf_Area_cm2_log, …) [was 11342x12, now 1181x29]</span>
<span class="co">#&gt; Warning: Removed 146 rows containing missing values (geom_point).</span></code></pre></div>
<div class="inline-figure"><img src="5-2_data_curation_files/figure-html/plot-1.png" width="672"></div>
<p>We can clearly see the outlier that has a 2 m<sup>2</sup> leaf.
We can also see that there is a cloud of points that is separate from the rest of the data.
These data have a sensible leaf area but the dry weight is too small.
It is possible that they were measured in the wrong unit.</p>
<!-- Add lines to the plot! -->

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html">PFTC Teaching material</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#using-pftc-data"><span class="header-section-number">1</span> Using PFTC data</a></li>
<li>
<a class="nav-link" href="#data-curation"><span class="header-section-number">1.1</span> Data curation</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#import-data"><span class="header-section-number">1.1.1</span> Import data</a></li>
<li><a class="nav-link" href="#first-check-of-the-dataset"><span class="header-section-number">1.1.2</span> First check of the dataset</a></li>
<li><a class="nav-link" href="#check-the-data-type"><span class="header-section-number">1.1.3</span> Check the data type</a></li>
<li><a class="nav-link" href="#exercise">Exercise</a></li>
<li><a class="nav-link" href="#check-for-duplicates"><span class="header-section-number">1.1.4</span> Check for duplicates</a></li>
<li><a class="nav-link" href="#check-data-cleaning-using-tidylog"><span class="header-section-number">1.1.5</span> Check data cleaning using tidylog</a></li>
<li><a class="nav-link" href="#check-for-missing-data"><span class="header-section-number">1.1.6</span> Check for missing data</a></li>
<li><a class="nav-link" href="#check-values-whing-variables"><span class="header-section-number">1.1.7</span> Check values whing variables</a></li>
<li><a class="nav-link" href="#visualise-data"><span class="header-section-number">1.1.8</span> Visualise data</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>PFTC Teaching Material</strong>" was written by Aud Halbritter. It was last built on 2022-04-21.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
